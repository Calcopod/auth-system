{"version":3,"sources":["Containers/Main/Main.js","Components/InputBtn/InputBtn.js","Components/InputLabel/InputLabel.js","Images/logo.svg","Functions/hashing.js","Containers/LogIn/LogIn.js","Containers/Register/Register.js","App.js","index.js"],"names":["Main","useState","cookies","Cookies","className","get","to","InputBtn","text","clicked","onClick","InputLabel","placeholder","value","setValue","type","onChange","e","target","crypto","require","csprng","hash","pwd","createHash","update","digest","randomBits","substr","length","fetchData","method","url","data","a","fetch","mode","cache","credentials","headers","redirect","referrerPolicy","body","JSON","stringify","response","json","logInClient","password","email","initialHash","hashWithExtras","result","registerClient","username","LogIn","refresh","emailInp","setEmailInp","passInp","setPassInp","error","setError","check","resp","message","set","path","src","logo","alt","href","Register","usernameInp","setUsernameInp","App","useEffect","exact","console","log","getAll","remove","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.32a736fd.chunk.js","sourcesContent":["import React, { useState  } from 'react'\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Cookies from 'universal-cookie';\r\n\r\nexport default function Main() {\r\n  const [hookForRefreshing, refresh] = useState()\r\n  const cookies = new Cookies()\r\n\r\n  const changeCookie = () => {\r\n    console.log( cookies.getAll() )\r\n    // cookies.set('loggedIn', false, {path: \"/\"})\r\n    refresh()\r\n  }\r\n\r\n  return (\r\n    <div className=\"app-container\">\r\n      <h1>Home page</h1>\r\n      { cookies.get('loggedIn') == \"false\" || typeof cookies.get('email') == 'undefined' ? <Redirect to=\"/login\" /> : <h1>Logged in</h1>}\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport './InputBtn.css'\r\n\r\nexport default function InputBtn( {text, clicked} ) {\r\n  return (\r\n    <button className=\"inpBtn\" onClick={clicked}>{text}</button>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport './InputLabel.css'\r\n\r\nexport default function InputLabel( {placeholder, value, setValue, type} ) {\r\n  return (\r\n    <input\r\n    className=\"inpLabel\" \r\n    value={value} \r\n    onChange={e => setValue(e.target.value)} \r\n    placeholder={placeholder}\r\n    type={type}\r\n    />\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.b1c05855.svg\";","const crypto = require('crypto');\r\nconst csprng = require('csprng')\r\nconst hash = (pwd) => crypto.createHash(\"sha512\").update(pwd).digest(\"base64\")\r\nconst randomBits = (hash) => `${csprng(16, 36)}${hash.substr(0, hash.length - 3)}${csprng(16, 36)}${hash.substr(hash.length - 3)}`\r\n\r\nconst fetchData = async ( method, url , data) => {\r\n  const response = await fetch(url, {\r\n    method: method,\r\n    mode: 'cors',\r\n    cache: 'no-cache',\r\n    credentials: 'same-origin',\r\n    headers: {\r\n      'security_header': 'password',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    redirect: 'follow',\r\n    referrerPolicy: 'no-referrer',\r\n    body: JSON.stringify(data)\r\n  });\r\n\r\n  return response.json()\r\n}\r\n\r\nexport const logInClient = async ( password , email, method, url) => {\r\n  const initialHash = hash( password )\r\n  const hashWithExtras = randomBits( initialHash )\r\n\r\n  const data = {\r\n    email: email,\r\n    password: hashWithExtras\r\n  }\r\n\r\n  const result = await fetchData(method, url, data)\r\n  return result\r\n}\r\n\r\nexport const registerClient = async ( username, email, password, method, url) => {\r\n  const initialHash = hash( password )\r\n  const hashWithExtras = randomBits( initialHash )\r\n\r\n  const data = {\r\n    username: username,\r\n    email: email,\r\n    password: hashWithExtras\r\n  }\r\n\r\n  const result = await fetchData( method, url, data)\r\n  return result\r\n}","import React, { useState } from 'react'\r\nimport InputBtn from '../../Components/InputBtn/InputBtn.js'\r\nimport InputLabel from '../../Components/InputLabel/InputLabel.js'\r\nimport logo from '../../Images/logo.svg'\r\nimport { logInClient } from '../../Functions/hashing'\r\nimport { BrowserRouter as Router, Redirect, Route, Switch } from \"react-router-dom\";\r\nimport './LogIn.css'\r\nimport Cookies from 'universal-cookie';\r\n\r\nexport default function LogIn() {\r\n  const [hookForRefreshing, refresh] = useState()\r\n  const [emailInp, setEmailInp] = useState('')\r\n  const [passInp, setPassInp] = useState('')\r\n  const [error, setError] = useState('')\r\n  const cookies = new Cookies()\r\n  const url = 'http://localhost:1818/login'\r\n\r\n  const check = ( resp ) => {\r\n    if( !resp.error ) {\r\n      cookies.set('loggedIn', true, {path: \"/\"})\r\n      cookies.set('email', resp.email, {path: \"/\"})\r\n      refresh({})\r\n    }\r\n    else setError(resp.message)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      { cookies.get('loggedIn') == \"true\" ? <Redirect to=\"/\" /> :         \r\n        <div className=\"logIn-container\">\r\n        <h1 className=\"logIn-header\">Sign in with your account</h1>\r\n        <div className=\"logIn-widget\">\r\n          <img src={logo} alt=\"vissus_logo\" className=\"logIn-logo\"/>\r\n          <InputLabel placeholder=\"Email\" value={emailInp} setValue={setEmailInp} type=\"text\"/>\r\n          <InputLabel placeholder=\"Password\" value={passInp} setValue={setPassInp} type=\"password\"/>\r\n          <InputBtn text=\"Log In\" clicked={async () => check( await logInClient(passInp, emailInp, 'POST', url) )}/>\r\n          <h3 className=\"logIn-footnote\">Forgot password? Click <a href=\"#\">Here</a> <br /> Don't have an account? <a href=\"/register\">Register</a>\r\n          </h3>\r\n        </div>\r\n        {error && <h2 className=\"logIn-error\">{error}</h2>}\r\n        </div>\r\n      }\r\n    </>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport InputBtn from '../../Components/InputBtn/InputBtn.js'\r\nimport InputLabel from '../../Components/InputLabel/InputLabel.js'\r\nimport logo from '../../Images/logo.svg'\r\nimport { registerClient } from '../../Functions/hashing'\r\nimport Cookies from 'universal-cookie';\r\n\r\nexport default function Register() {\r\n  const [hookForRefreshing, refresh] = useState()\r\n  const [usernameInp, setUsernameInp] = useState('')\r\n  const [emailInp, setEmailInp] = useState('')\r\n  const [passInp, setPassInp] = useState('')\r\n  const [error, setError] = useState('')\r\n  const cookies = new Cookies()\r\n  const url = 'http://localhost:1818/register'\r\n\r\n  const check = ( resp ) => {\r\n    if( resp.error == false ) {\r\n      cookies.set('loggedIn', true, {path: \"/\"})\r\n      cookies.set('email', resp.email, {path: \"/\"})\r\n      refresh({})\r\n    }\r\n    else setError(resp.message)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"logIn-container\">\r\n      <h1 className=\"logIn-header\">Register an account</h1>\r\n      <div className=\"logIn-widget\">\r\n        <img src={logo} alt=\"vissus_logo\" className=\"logIn-logo\"/>\r\n        <InputLabel placeholder=\"Username\" value={usernameInp} setValue={setUsernameInp} type=\"text\"/>\r\n        <InputLabel placeholder=\"Email\" value={emailInp} setValue={setEmailInp} type=\"text\"/>\r\n        <InputLabel placeholder=\"Password\" value={passInp} setValue={setPassInp} type=\"password\"/>\r\n        <InputBtn text=\"Register\" clicked={async () => check( await registerClient( usernameInp, emailInp, passInp, 'POST', url ) )}/>\r\n        <h3 className=\"logIn-footnote\">By clicking Register you agree to our <a href=\"#\">Terms and Service</a></h3>\r\n      </div>\r\n      {error && <h2 className=\"logIn-error\">{error}</h2>}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import React, { useEffect } from 'react'\nimport Main from \"./Containers/Main/Main\";\nimport { BrowserRouter as Router, Redirect, Route, Switch } from \"react-router-dom\";\nimport LogIn from \"./Containers/LogIn/LogIn\";\nimport Register from './Containers/Register/Register'\nimport Cookies from 'universal-cookie'\n\nconst App = () => {\n  const cookies = new Cookies()\n\n  useEffect( () => {\n    if ( typeof cookies.get('isLogged') != 'undefined' && cookies.get('isLogged') != \"true\") {\n      cookies.set('isLogged', true, {path: \"/\"})\n    }\n    // console.log( typeof cookies.get('isLogged') )\n  }, [])\n\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/\">\n          <Main />\n        </Route>\n        <Route exact path=\"/login\" >\n          <LogIn />\n        </Route>\n        <Route exact path=\"/register\">\n          <Register />\n        </Route>\n        <Route exact path=\"/clearCookies\">\n          <>\n            <button onClick={() => {\n              console.log( cookies.getAll() )\n              cookies.remove('loggedIn', {path: \"/\"})\n              cookies.remove('email', {path: \"/\"})\n            }}>\n              Remove cookie\n            </button>\n            <button onClick={() => {\n              console.log( cookies.getAll() )\n            }}>\n              Say Cookies\n            </button>\n          </>\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}