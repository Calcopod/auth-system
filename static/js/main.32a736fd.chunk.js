(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{125:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},137:function(e,t){},139:function(e,t){},150:function(e,t){},152:function(e,t){},179:function(e,t){},181:function(e,t){},182:function(e,t){},187:function(e,t){},189:function(e,t){},208:function(e,t){},220:function(e,t){},223:function(e,t){},228:function(e,t,n){},229:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(119),s=n.n(a),o=(n(125),n(10)),i=n(4),l=n(19),u=n(0);function j(){var e=Object(c.useState)(),t=Object(o.a)(e,2),n=(t[0],t[1],new l.a);return Object(u.jsxs)("div",{className:"app-container",children:[Object(u.jsx)("h1",{children:"Home page"}),"false"==n.get("loggedIn")||"undefined"==typeof n.get("email")?Object(u.jsx)(i.a,{to:"/login"}):Object(u.jsx)("h1",{children:"Logged in"})]})}var b=n(42),d=n(9),h=n.n(d),g=n(20);n(132);function p(e){var t=e.text,n=e.clicked;return Object(u.jsx)("button",{className:"inpBtn",onClick:n,children:t})}n(133);function O(e){var t=e.placeholder,n=e.value,c=e.setValue,r=e.type;return Object(u.jsx)("input",{className:"inpLabel",value:n,onChange:function(e){return c(e.target.value)},placeholder:t,type:r})}var f=n.p+"static/media/logo.b1c05855.svg",x=n(69),m=n(226),v=function(e){return x.createHash("sha512").update(e).digest("base64")},w=function(e){return"".concat(m(16,36)).concat(e.substr(0,e.length-3)).concat(m(16,36)).concat(e.substr(e.length-3))},y=function(){var e=Object(g.a)(h.a.mark((function e(t,n,c){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n,{method:t,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{security_header:"password","Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(c)});case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),I=function(){var e=Object(g.a)(h.a.mark((function e(t,n,c,r){var a,s,o,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=v(t),s=w(a),o={email:n,password:s},e.next=5,y(c,r,o);case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t,n,c,r){return e.apply(this,arguments)}}(),k=function(){var e=Object(g.a)(h.a.mark((function e(t,n,c,r,a){var s,o,i,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=v(c),o=w(s),i={username:t,email:n,password:o},e.next=5,y(r,a,i);case 5:return l=e.sent,e.abrupt("return",l);case 7:case"end":return e.stop()}}),e)})));return function(t,n,c,r,a){return e.apply(this,arguments)}}();n(228);function S(){var e=Object(c.useState)(),t=Object(o.a)(e,2),n=(t[0],t[1]),r=Object(c.useState)(""),a=Object(o.a)(r,2),s=a[0],j=a[1],b=Object(c.useState)(""),d=Object(o.a)(b,2),x=d[0],m=d[1],v=Object(c.useState)(""),w=Object(o.a)(v,2),y=w[0],k=w[1],S=new l.a,N=function(e){e.error?k(e.message):(S.set("loggedIn",!0,{path:"/"}),S.set("email",e.email,{path:"/"}),n({}))};return Object(u.jsx)(u.Fragment,{children:"true"==S.get("loggedIn")?Object(u.jsx)(i.a,{to:"/"}):Object(u.jsxs)("div",{className:"logIn-container",children:[Object(u.jsx)("h1",{className:"logIn-header",children:"Sign in with your account"}),Object(u.jsxs)("div",{className:"logIn-widget",children:[Object(u.jsx)("img",{src:f,alt:"vissus_logo",className:"logIn-logo"}),Object(u.jsx)(O,{placeholder:"Email",value:s,setValue:j,type:"text"}),Object(u.jsx)(O,{placeholder:"Password",value:x,setValue:m,type:"password"}),Object(u.jsx)(p,{text:"Log In",clicked:Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=N,e.next=3,I(x,s,"POST","http://localhost:1818/login");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))}),Object(u.jsxs)("h3",{className:"logIn-footnote",children:["Forgot password? Click ",Object(u.jsx)("a",{href:"#",children:"Here"})," ",Object(u.jsx)("br",{})," Don't have an account? ",Object(u.jsx)("a",{href:"/register",children:"Register"})]})]}),y&&Object(u.jsx)("h2",{className:"logIn-error",children:y})]})})}function N(){var e=Object(c.useState)(),t=Object(o.a)(e,2),n=(t[0],t[1]),r=Object(c.useState)(""),a=Object(o.a)(r,2),s=a[0],i=a[1],j=Object(c.useState)(""),b=Object(o.a)(j,2),d=b[0],x=b[1],m=Object(c.useState)(""),v=Object(o.a)(m,2),w=v[0],y=v[1],I=Object(c.useState)(""),S=Object(o.a)(I,2),N=S[0],C=S[1],L=new l.a,V=function(e){0==e.error?(L.set("loggedIn",!0,{path:"/"}),L.set("email",e.email,{path:"/"}),n({})):C(e.message)};return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"logIn-container",children:[Object(u.jsx)("h1",{className:"logIn-header",children:"Register an account"}),Object(u.jsxs)("div",{className:"logIn-widget",children:[Object(u.jsx)("img",{src:f,alt:"vissus_logo",className:"logIn-logo"}),Object(u.jsx)(O,{placeholder:"Username",value:s,setValue:i,type:"text"}),Object(u.jsx)(O,{placeholder:"Email",value:d,setValue:x,type:"text"}),Object(u.jsx)(O,{placeholder:"Password",value:w,setValue:y,type:"password"}),Object(u.jsx)(p,{text:"Register",clicked:Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=V,e.next=3,k(s,d,w,"POST","http://localhost:1818/register");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))}),Object(u.jsxs)("h3",{className:"logIn-footnote",children:["By clicking Register you agree to our ",Object(u.jsx)("a",{href:"#",children:"Terms and Service"})]})]}),N&&Object(u.jsx)("h2",{className:"logIn-error",children:N})]})})}var C=function(){var e=new l.a;return Object(c.useEffect)((function(){"undefined"!=typeof e.get("isLogged")&&"true"!=e.get("isLogged")&&e.set("isLogged",!0,{path:"/"})}),[]),Object(u.jsx)(b.a,{children:Object(u.jsxs)(i.d,{children:[Object(u.jsx)(i.b,{exact:!0,path:"/",children:Object(u.jsx)(j,{})}),Object(u.jsx)(i.b,{exact:!0,path:"/login",children:Object(u.jsx)(S,{})}),Object(u.jsx)(i.b,{exact:!0,path:"/register",children:Object(u.jsx)(N,{})}),Object(u.jsx)(i.b,{exact:!0,path:"/clearCookies",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{onClick:function(){console.log(e.getAll()),e.remove("loggedIn",{path:"/"}),e.remove("email",{path:"/"})},children:"Remove cookie"}),Object(u.jsx)("button",{onClick:function(){console.log(e.getAll())},children:"Say Cookies"})]})})]})})};s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(C,{})}),document.getElementById("root"))}},[[229,1,2]]]);
//# sourceMappingURL=main.32a736fd.chunk.js.map